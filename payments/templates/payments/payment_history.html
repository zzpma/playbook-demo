<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Payment History</title>

    <!-- Bootstrap CDN (optional but keeps your table styles working) -->
    <link 
        href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" 
        rel="stylesheet">

    <!-- Playbook Sports Color Palette -->
    <style>
        :root {
            --primary-clr: #133B49;
            --secondary-clr: #E55608;
            --bg-secondary: #4CB7B7;
            --primary-text: #000000;
            --bg-color: #1c6e89;
            --light-text: #71767B;
            --white: #ffffff;
            --border: rgba(19, 59, 73, 0.15);

            --input-bg: #F5F7F9;
            --focus-ring: rgba(229, 86, 8, 0.25);
            --font-family: 'Inter', sans-serif;
        }

        body {
            background-color: var(--input-bg);
            font-family: var(--font-family);
            color: var(--primary-text);
            padding: 30px;
        }

        h2 {
            color: var(--primary-clr);
            font-weight: 700;
        }

        .badge.bg-success { background-color: #28a745 !important; }
        .badge.bg-warning { background-color: #ffc107 !important; color: #000 !important; }
        .badge.bg-danger { background-color: #dc3545 !important; }

        .table thead {
            background-color: var(--primary-clr);
            color: var(--white);
        }

        .table-hover tbody tr:hover {
            background-color: rgba(19, 59, 73, 0.05);
        }

        .container-custom {
            background: var(--white);
            padding: 25px 30px;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.06);
        }
    </style>
</head>
<body>

<div class="container container-custom">
    <h2 class="mb-4"><i class="fas fa-credit-card me-2"></i> Payment History</h2>

    {% if payments %}
    <table class="table table-hover table-striped">
        <thead>
            <tr>
                <th>Date</th>
                <th>Amount</th>
                <th>Status</th>
                <th>Reference ID</th>
            </tr>
        </thead>
        <tbody>
            {% for payment in payments %}
            <tr>
                <td>{{ payment.created_at|date:"M d, Y H:i" }}</td>
                <td>â‚±{{ payment.amount }}</td>
                <td>
                    <span class="badge
                        {% if payment.status == 'PAID' %}bg-success
                        {% elif payment.status == 'PENDING' %}bg-warning
                        {% else %}bg-danger
                        {% endif %}">
                        {{ payment.status }}
                    </span>
                </td>
                <td>{{ payment.stripe_id|default:"N/A" }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    {% else %}
    <div class="alert alert-info">No payment records found. Ready to make your first payment?</div>
    {% endif %}
</div>

<!-- Bootstrap JS (optional) -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

</body>
</html>
